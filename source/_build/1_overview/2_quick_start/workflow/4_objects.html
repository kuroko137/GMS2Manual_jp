<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>オブジェクトを作成する</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">

<link rel="stylesheet" href="../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/1_overview/2_quick_start/workflow/4_objects.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../index.html?page=source%2F_build%2F1_overview%2F2_quick_start%2Fworkflow%2F4_objects.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../index.html?page=source%2F_build%2F1_overview%2F2_quick_start%2Fworkflow%2F4_objects.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script>
<h2>オブジェクトを作成する</h2>

<div class="body-scroll">
<p><br>
</p>

<p>これまでに、素敵な画像やサウンドをリソース ツリーへ追加する方法について見てきました。しかし、依然としてゲームの中ではなにもできません。状況を打破すべく、<i>GameMaker Studio 2</i> において最も重要なリソースである <b>オブジェクト</b> リソースを追加しましょう。オブジェクトは、ゲームのさまざまな部分をコントロールしたり、一連の物事を実行するために使用する特別なリソースです。ほとんどの場合、オブジェクトにはゲーム ルーム上で見えるようスプライトが割り当てられています。一方で、ユーザー操作やタイミングに関連する処理などを行うための "舞台裏" の <i>制御役</i> として使われることもあります。オブジェクトにはアクションを持たせることができ、特定のできごとに反応させるだけでなく、オブジェクトどうしがたがいに反応することも可能です。ゲーム中で目にするもののほとんどすべては、オブジェクトとその相互作用によって成り立っています。</p>

<div class="note"><b>重要！</b> <i>GameMaker Studio 2</i> では、たとえばキャラクターや敵モンスター、ボール、壁などといったものが、リソース ツリーにあるベース オブジェクトのコピーである <b>インスタンス</b> としてルームへ配置されます。ここで、<b>インスタンス</b> へ影響を与える、または変更を加えるというような文脈のときは、あくまでルーム上に配置されているオブジェクトのコピーのうちのひとつのことを指しており、それ以外のインスタンスには影響はないことを示します。一方、<b>オブジェクト</b> への影響または変更という文脈で話す場合は、そこから生成されるすべてのインスタンスにも反映されるという意味になります。いわば <b>オブジェクトとはインスタンスの雛形のようなものであって、ゲームを作るために実際にルーム上へ配置されるのはインスタンスです</b>。</div>

<p>新規オブジェクト リソースを作成するには、ほかのリソースと同様、オブジェクト リソース フォルダーを右クリック <img style="vertical-align:middle" src="../../../images/icon_rmb.png"> して <i>作成</i> を選択します。 <img class=
"center" src="../images/qs_objecteditor.png"></p>

<p>これがオブジェクト エディターのウィンドウです。現在のオブジェクトのプロパティが表示されています。まず取りかかるべきは、このオブジェクトに名前をつけることです。ここでも、"obj_" のようななんらかの識別子を用いるとよいでしょう。一般に、なにかを描画し、かつ ほかのオブジェクト インスタンスとの衝突を想定するオブジェクトには、<img style="vertical-align:middle" src="../images/icon_addsound.png"> をクリックしてスプライトを追加します。<b>アセット エクスプローラー</b> が開くので、そこから使用するスプライトを選択します: <img class=
"center" src="../images/qs_assetexplorer.png"></p>

<p>割り当てるスプライトがまだ作られていない場合は、新規スプライト <img style="vertical-align:middle" src="../images/icon_newsprite.png"> をクリック <img style="vertical-align:middle" src="../../../images/icon_lmb.png"> して新規スプライト リソースを作成し、編集できます。作成されたスプライトが自動的に現在のオブジェクトへ割り当てられるという点をのぞけば、通常のスプライト作成時と同じ操作が可能です。選択したリソースは、スプライトの編集 <img style="vertical-align:middle" src="../images/icon_editsprite.png"> や 画像の編集 <img style="vertical-align:middle" src="../images/icon_editimage.png"> をクリック <img style="vertical-align:middle" src="../../../images/icon_lmb.png"> して編集することができます。リソースの一覧からリソースを探し出すよりも、この方法を使えばすぐに編集できます。</p>

<p>スプライトを選択し終えたら、たとえばオブジェクトを表示するか非表示にするか、またはどのような当たり判定を設定するかなど、その他さまざまなプロパティを変更できます。単純なゲームなら、ここでなにか変更を加える必要はないでしょう。次にオブジェクトへ <b>イベント</b> を追加していきます。ひとつのゲーム ループに含まれるいくつかの段階の中で、イベントはあなたが指定した特定のプログラムに基づいてアクションを起こします。<i>GameMaker Studio 2</i> では、ルームが開始する瞬間と終了する瞬間の間をゲーム ループと呼び、その間のすべてのステップ (1ゲーム時間のこと。ゲーム速度の設定によって制御されます) ごとにイベントが実行されています。そして、各インスタンスの各イベントによって呼び出される任意のコードまたは DnD™ アクションを指定することができます。</p>

<p>イベントを追加するには、<i>イベントの追加</i> をクリック <img style="vertical-align:middle"src="../../../images/icon_lmb.png"> します:
<img class="center" src="../images/qs_objecteditor_events.png"></p>

<p>上の画像には、すべての <b>イベント カテゴリー</b> が表示されており、その一部はさらにサブカテゴリーへ派生しています。ここではすべてのイベントについて細かく説明することはせず、最も重要な5つのイベントについて簡単に紹介していきます:</p>

<table class="icons">
<tr>
<td class="icons"><img align="middle" src="../images/qs_event_create.png" alt="生成イベント">
</td>
<td class="icons">生成イベント</td>
<td class="text">オブジェクト インスタンスが生成された最初の瞬間に発生します。ルーム エディターからルームに配置されたインスタンスのなかでは、これが最も早く発生するイベントになります。このイベントは、たとえば、変数の初期化やタイムラインの開始処理、パスの設定といった、インスタンスがルームへ登場した最初の一度だけ実行したい処理を行うために最適です。</td>
</tr>

<tr>
<td>
</td>
</tr>

<tr>
<td class="icons"><img align="middle" src="../images/qs_event_step.png" alt="ステップ イベント">
</td>
<td class="icons">ステップ イベント</td>
<td class="text"><i>GameMaker Studio 2</i> では、1秒間を複数の <i>ステップ</i> へ分割して処理を行っています。ここで、1秒あたりのステップ数を定義する値をゲーム速度と呼びます。ステップは、ゲームが実行されているあいだに常に実行されているループであり、必要に応じてすべてのイベントがチェック、トリガーされます。しかるにステップ イベントとは、存在しているすべてのインスタンスで常にチェックされるイベントのことを指します。ステップ イベント カテゴリーには、インスタンスの前後のタイミングを "微調整" するための3つのカテゴリーが用意されており、通常はメインのステップ イベントが最も頻繁に使用されます。</td>
</tr>

<tr>
<td>
</td>
</tr>

<tr>
<td class="icons"><img align="middle" src="../images/qs_event_collision.png" alt="衝突イベント">
</td>
<td class="icons">衝突イベント</td>
<td class="text">ゲームの作成において、2つ (またはそれ以上) のインスタンスがいつ衝突したかを知ることはきわめて重要な意味を持ちます。そのため、衝突イベントが用意されています。このイベントをオブジェクトに追加し、ほかのどのオブジェクトとの衝突を判定するかを指定します。イベントを追加して判定するオブジェクトを設定したら、衝突を解決するためのコードおよび DnD™ を追加できます。</td>
</tr>

<tr>
<td>
</td>
</tr>

<tr>
<td class="icons"><img align="middle" src="../images/qs_event_draw.png" alt="描画イベント">
</td>
<td class="icons">描画イベント</td>
<td class="text">描画イベントのサブカテゴリーには、いくつかの異なる描画イベントが用意されていますが、最も頻繁に使用されるのは単に "描画" と書かれている一番上のイベントです。この標準的な描画イベントは、ゲーム フレームごとに呼び出されるという点においてはステップ イベントと同じですが、2つのケースによって動作が異なります。1つめは、イベントにコードまたは DnD™ を追加 <i>していない</i> ケースです。このケースでは、オブジェクトの変化 (サイズやアルファ ブレンディングが変更されたときなど) に応じて、割り当てられているスプライトが "デフォルトで描画" されます。2つめは、イベントにコードまたは DnD™ を追加しているケースです。イベントになんらかのアクションを追加すると、<i>GameMaker Studio 2</i> へ "このオブジェクト インスタンスの描画を制御する" と伝え、デフォルトの描画をオーバーライドします。たとえば、なんらかのスプライトが割り当てられているオブジェクトがあったとして、そこへ描画イベントを追加したとします。そして、文字を表示するアクションを描画イベントへ追加するとどうなるでしょうか？ <i>GameMaker Studio 2</i> は、(描画イベントがオーバーライドされているため) 文字を表示するという指示は受け取っていても、スプライトを描画するという指示は受け取っていません。したがって、文字のみが表示され、スプライトは描画されません。</td>
</tr>

<tr>
<td>
</td>
</tr>

<tr>
<td class="icons"><img align="middle" src="../images/qs_event_destroy.png" alt="破棄イベント">
</td>
<td class="icons">破棄イベント</td>
<td class="text">インスタンスが破棄されたときに実行される、最後のイベントです。たとえば敵が倒されたとき、爆発やパーティクル エフェクトを表示したり、ルーム上の別の場所へ新しいインスタンスを生成させたり、スコアへ得点を追加したり... このイベントの存在はなにかと見落とされがちですが、使いこなせると非常に便利です。</td>
</tr>
</table>

<p>その他さまざまなイベントの詳細については、<a href="../../../2_interface/1_editors/events/index.html">こちら</a> を参照してください。</p>

<p>イベントが追加されると、プロジェクトの種類に応じて、コード エディターまたは Drag and Drop エディターが開きます。このウィンドウでは、ゲーム ループ中にイベントがトリガーされるたびに呼び出すコードまたはアクションを追加できます。イベントとコードを持つ典型的なオブジェクトの例を次に示します:
<img class="center" src="../images/qs_objecteditor_chain.png"></p>

<p>DnD™ およびコードを用いてゲーム プログラミングを行う方法については、このクイック スタート ガイドでは取り扱いません。より詳細な情報が知りたい場合は、次の2つのページを参照してください:</p>

<blockquote>
<ol>
<li><a href=
"../../../3_scripting/1_drag_and_drop_overview/index.html"><span class="list_link">
Drag and Drop™ の概要</span></a>
</li>

<li><a href=
"../../../3_scripting/3_gml_overview/index.html"><span class=
"list_link">GameMaker Language の概要</span></a>
</li>
</ol>
</blockquote>

<p>加えて、<b>オブジェクト エディター</b> の詳細な説明についてはこちらを参照してください:</p>

<blockquote>
<ol>
<li><a href=
"../../../2_interface/1_editors/objects.html"><span class=
"list_link">エディター: オブジェクト エディター</span></a>
</li>
</ol>
</blockquote>

<p>次のガイドでは <b>ルーム エディター</b> について説明します。ルーム エディターのセクションでは、これまでに学んできたすべてを統合して、プロジェクトをゲームに変化させます...</p>

<p><br>
</p>
</div>

<div class="footer">
<div class="buttons">
<div class="clear">
<div style="float:left">戻る: <a href=
"../5_workflow.html">ワークフロー</a></div>

<div style="float:right">進む: <a href="5_rooms.html">ルームを作成する</a></div>
</div>
</div>

<h5>© Copyright YoYo Games Ltd. 2019 All Rights Reserved</h5>
</div>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
